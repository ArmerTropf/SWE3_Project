<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui">
<h:head>
	<!-- 	<link rel="stylesheet" href="resources/alleKunden.css" type="text/css" /> -->
		<title>
			<ui:insert name="title">general Overview</ui:insert>
		</title>
	</h:head>
	<h:body>
		<div id="header">
			<h:form>
				<h:commandButton action="#{language.changeLanguage('de')}" value="Deutsch"/>
				<h:outputText value=" " />
				<h:commandButton action="#{language.changeLanguage('en')}" value="English" />
			</h:form>
		</div>
		<div id="content">
			<ui:insert name="content"> 
				<p:layout style="min-width:1024px;min-height:768px;">
				    <p:layoutUnit position="north" resizable="true" size="100" minSize="40" maxSize="200">
				        <p:dataTable  var="books" value="#{userAndShelvesHandler.rememberUser.shelves.get(0).books}" rowClasses="odd,even" >
	    					<p:column>
								<f:facet name="header">#{msg['userAdministration_firstname']}</f:facet>
								<h:outputText value="#{books.title}" />
							</p:column>
							<p:column>
				        			<p:commandButton action="#{userAndShelvesHandler.logout()}" value="Anzeigen" />
				        			<p:commandButton action="#{userAndShelvesHandler.logout()}" value="löschen" />
				        			<p:commandButton action="#{userAndShelvesHandler.logout()}" value="bearbeiten" />
				        	</p:column>
    					</p:dataTable>
				    </p:layoutUnit>
				    <p:layoutUnit position="west" resizable="true" size="500" minSize="40" maxSize="200">
				        <p:panelGrid>
				        	<p:row>
				        		<p:column>
				        			<h:outputText value="Angemeldeter Nutzer: #{userAndShelvesHandler.rememberUser.firstname}" />
				        		</p:column>
				        	</p:row>
				        	<p:row>
				        		<p:column>
				        			<p:separator/>
				        		</p:column>
				        	</p:row>
				        

				        	<p:row>
				        		<p:column>
				        			<p:commandButton action="#{userAndShelvesHandler.showUser()}" value="user" />
				        		</p:column>
				        	</p:row>
				        	<p:row>
				        		<p:column>
				        			<p:separator/>
				        		</p:column>
				        	</p:row>
				        	<p:row>
				        		<p:column>
				        			<p:commandButton value="Buch hinzufügen" />
				        		</p:column>
				        	</p:row>
				        	<p:row>
				        		<p:column>
				        		
				        		</p:column>
				        	</p:row>
				        	<p:row>

				        		<p:column>
				        			<p:commandButton action="#{userAndShelvesHandler.logout()}" value="Logout" />
				        		</p:column>
				        	</p:row>
				        </p:panelGrid>
				        <p:separator></p:separator>
				        
				
				    </p:layoutUnit>
					<p:layoutUnit position="south" resizable="true" size="100" minSize="40" maxSize="200">
    					<p:dataTable  var="shelf" value="#{userAndShelvesHandler.rememberUser.shelves}" rowClasses="odd,even" headerClass="header">
	    					<p:column>
								<f:facet name="header">#{msg['userAdministration_firstname']}</f:facet>
								<h:outputText value="#{shelf.name}" />
							</p:column>
							<p:column>
				        			<p:commandButton action="#{userAndShelvesHandler.logout()}" value="Anzeigen" />
				        			<p:commandButton action="#{userAndShelvesHandler.logout()}" value="löschen" />
				        			<p:commandButton action="#{userAndShelvesHandler.logout()}" value="bearbeiten" />
				        	</p:column>
    					</p:dataTable>
				    </p:layoutUnit>				 
				    <p:layoutUnit position="center">
						<div id="content">
							<ui:insert name="content">
								<h:form>			
									<p:dataTable var="books" value="#{booksHandler.books}" rowClasses="odd,even" headerClass="header">	
										    <f:facet name="header">#{msg['showBooksOverview_title']}</f:facet>
								            <p:column>
								            	<f:facet name="header">#{msg['showBooksOverview_bookTitle']}</f:facet>
								            	<h:outputText value="#{books.title}" />
								            </p:column>
								            <p:column>
								            	<f:facet name="header">#{msg['showBooksOverview_author']}</f:facet>
								            	<h:outputText value="#{books.author.firstname}" />
								            	<h:outputText value=" #{books.author.lastname}" />
								            </p:column>
								            <p:column>
								            	<f:facet name="header">#{msg['showBooksOverview_ISBN']}</f:facet>
								            	<h:outputText value="#{books.isbn}" />
								            </p:column>
								            <p:column>
								            	<f:facet name="header">Genre</f:facet>
								            	<h:outputText value="#{books.genre.genre}" />
								            </p:column>
									        <p:column style="font-weight: bold;">
									        	<f:facet name="header">#{msg['showBooksOverview_button_edit']}</f:facet>
									        	<p:commandButton action="#{booksHandler.editBook()}" value="#{msg['showBooksOverview_button_edit']}"  icon="ui-icon-check"/>
									        </p:column>
									        <p:column style="font-weight: bold;">
									        	<f:facet name="header">#{msg['showBooksOverview_button_delete']}</f:facet>
									        	<p:commandButton update="@form" action="#{booksHandler.deleteBook()}" value="#{msg['showBooksOverview_button_delete']}"  icon="ui-icon-check"/>
									        </p:column>
									</p:dataTable>
								</h:form>
							</ui:insert>
						</div>				
				    </p:layoutUnit>
				</p:layout>
			</ui:insert>
		</div>
	</h:body>
</html>